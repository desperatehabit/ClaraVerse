[EPIC 1 - Step 2 - SQLite Database Schema Implementation]
1. Primary Task:
   - Create the first database migration file and implement the SQL schema for the personal task management system. This includes tables for projects, tasks, and tags, establishing the foundational structure for all personal task data. (Source: project_planv2.md, Sections 4.1, 7.1)

2. File Locations:
- To be Created:
- electron/database/migrations/{timestamp}-initial-schema.js: A new database migration file generated by the db-migrate tool.

3. UI/Component Specification:
   - Not applicable. This step involves no UI changes.

4. State Management Logic:
   - Not applicable. No new state management providers are required for this step.

5. Data Model & Schema:
   - The migration will create the tables exactly as defined in the project_planv2.md, Section 4.1.
     - projects table: Stores project information like name, description, and color.
     - tasks table: Stores task details, including title, priority, status, due date, and relationships to projects and parent tasks (for subtasks).
     - task_tags table: A lookup table for tag names.
     - task_tag_relations table: A join table to manage the many-to-many relationship between tasks and tags.

6. Backend Interaction Logic:
   - This step does not involve application-level backend logic. Instead, it uses the db-migrate tool to execute a migration script that applies the defined schema to the SQLite database file (clara_tasks.db).

7. Relevant Documentation & Examples:
   - Migration Generation:
     - Use the command configured in the previous step to create a new migration file.
       bash        npm run db:migrate:create -- --sql-file initial-schema        
   - Migration File Content ({timestamp}-initial-schema.sql):
     - The generated up and down migration files should be populated with the SQL schema.
       ```sql
-- UP MIGRATION
CREATE TABLE projects (
id TEXT PRIMARY KEY,
name TEXT NOT NULL,
description TEXT,
color TEXT DEFAULT '#6366f1',
created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
);

  CREATE TABLE tasks (
    id TEXT PRIMARY KEY,
    project_id TEXT REFERENCES projects(id),
    title TEXT NOT NULL,
    description TEXT,
    priority TEXT DEFAULT 'medium',
    status TEXT DEFAULT 'todo',
    due_date DATETIME,
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    completed_at DATETIME,
    parent_task_id TEXT REFERENCES tasks(id)
  );

  CREATE TABLE task_tags (
    id TEXT PRIMARY KEY,
    name TEXT UNIQUE NOT NULL
  );

  CREATE TABLE task_tag_relations (
    task_id TEXT REFERENCES tasks(id),
    tag_id TEXT REFERENCES task_tags(id),
    PRIMARY KEY (task_id, tag_id)
  );

  -- DOWN MIGRATION
  DROP TABLE task_tag_relations;
  DROP TABLE task_tags;
  DROP TABLE tasks;
  DROP TABLE projects;

           - **Applying the Migration:**      - Run the `up` command to apply the schema to the database.        bash
       npm run db:migrate
       ```

8. Error Handling:
   - SQL Syntax Errors: If the SQL in the migration file is invalid, db-migrate will fail and print a database error. The migration will be rolled back automatically.
     - User-Facing Message (for developer): "Migration failed due to a SQL error. Check the syntax in {timestamp}-initial-schema.sql and the console output for details from the database driver."
   - File Not Found: If the database file (clara_tasks.db) cannot be created due to permissions issues, the tool will fail.
     - User-Facing Message (for developer): "Failed to create or access the database file. Check file permissions for the project directory."

9. Coding Standards & Verification:
   - SQL keywords (e.g., CREATE TABLE, TEXT) should be in uppercase for readability.
   - Table and column names should use snake_case.
   - Verification Checklist:
     - 1. A new migration file is created in the migrations directory.
     - 2. The up migration contains the correct CREATE TABLE statements for projects, tasks, task_tags, and task_tag_relations.
     - 3. The down migration contains the corresponding DROP TABLE statements in the correct reverse order to handle foreign key constraints.
     - 4. Running npm run db:migrate completes successfully.
     - 5. A clara_tasks.db file is created, and inspecting it with a SQLite client confirms that all four tables exist with the correct columns and constraints.